angular.module("ngSimpleGallery",[]).directive("ngGallery",["$timeout","$animate","$interval",function(e,n,i){return{restrict:"AE",replace:!0,scope:{source:"@"},link:function(t,a,r){try{t.source=JSON.parse(t.source)}catch(e){}switch(t.images=t.source.images,t.config=t.source.config,t.currentIndex=0,t.nextIndex=0,t.img=a.find("img"),t.config.animation){case"slide":t.animationClassNext="slide-left",t.animationClassPrev="slide-right";break;default:t.animationClassNext="fade",t.animationClassPrev="fade"}t.next=function(){t.nextIndex=t.nextIndex==t.images.length-1?0:t.nextIndex+1,e(function(){t.currentIndex=t.currentIndex==t.images.length-1?0:t.currentIndex+1},500),n.addClass(t.img[0],t.animationClassNext).then(function(){n.removeClass(t.img[0],t.animationClassNext)})},t.prev=function(){t.nextIndex=0==t.nextIndex?t.images.length-1:t.nextIndex-1,e(function(){t.currentIndex=0==t.currentIndex?t.images.length-1:t.currentIndex-1},500),n.addClass(t.img[0],t.animationClassPrev).then(function(){n.removeClass(t.img[0],t.animationClassPrev)})},t.$watch("currentIndex",function(){t.currentImage=t.images[t.currentIndex]}),t.$watch("nextIndex",function(){t.nextImage=t.images[t.nextIndex]}),t.config.interval&&i(function(){t.next()},1e3*t.config.interval)},template:'<div class="gallery-container">   <div class="gallery-item" ng-swipe-left="prev()"  ng-swipe-right="next()">       <img ng-cloak class="current-img" ng-src="{{ currentImage.url }}">       <img ng-cloak class="next-img" ng-src="{{ nextImage.url }}">   </div>   <div class="prev" ng-click="prev()"></div>   <div class="next" ng-click="next()"></div>   <ul class="thumb-list">       <li ng-repeat="image in images" ng-class="image.url == currentImage.url ? \'active\' : \'\'">&#149;</li>   </ul></div>'}}]);