angular.module("ngSimpleGallery",["ngTouch"]).directive("ngGallery",["$timeout","$animate","$interval",function(e,n,t){return{restrict:"AE",replace:!0,scope:{source:"@"},link:function(i,a,r){try{i.source=JSON.parse(i.source)}catch(e){}switch(i.images=i.source.images,i.config=i.source.config,i.currentIndex=0,i.nextIndex=0,i.img=a.find("img"),i.config.animation){case"slide":i.animationClassNext="slide-left",i.animationClassPrev="slide-right";break;default:i.animationClassNext="fade",i.animationClassPrev="fade"}i.next=function(){i.nextIndex=i.nextIndex==i.images.length-1?0:i.nextIndex+1,e(function(){i.currentIndex=i.currentIndex==i.images.length-1?0:i.currentIndex+1},500),n.addClass(i.img[0],i.animationClassNext).then(function(){n.removeClass(i.img[0],i.animationClassNext)})},i.prev=function(){i.nextIndex=0==i.nextIndex?i.images.length-1:i.nextIndex-1,e(function(){i.currentIndex=0==i.currentIndex?i.images.length-1:i.currentIndex-1},500),n.addClass(i.img[0],i.animationClassPrev).then(function(){n.removeClass(i.img[0],i.animationClassPrev)})},i.$watch("currentIndex",function(){i.currentImage=i.images[i.currentIndex]}),i.$watch("nextIndex",function(){i.nextImage=i.images[i.nextIndex]}),i.config.interval&&(i.interval=t(function(){i.next()},1e3*i.config.interval),i.stopInterval=function(e){1==e&&t.cancel(i.interval)})},template:'<div class="gallery-container" ng-swipe-left="next(); stopInterval(true);" ng-swipe-right="prev(); stopInterval(true);">   <div class="gallery-item">       <img ng-cloak class="current-img" ng-src="{{ currentImage.url }}">       <img ng-cloak class="next-img" ng-src="{{ nextImage.url }}">   </div>   <div class="prev" ng-click="prev()"></div>   <div class="next" ng-click="next()"></div>   <ul class="thumb-list">       <li ng-repeat="image in images" ng-class="image.url == currentImage.url ? \'active\' : \'\'">&#149;</li>   </ul></div>'}}]);