angular.module("ngSimpleGallery",[]).directive("ngGallery",["$timeout","$animate","$interval",function(a,b,c){return{restrict:"AE",replace:!0,scope:{source:"@"},link:function(d,e,f){try{d.source=JSON.parse(d.source)}catch(a){}switch(d.images=d.source.images,d.config=d.source.config,d.currentIndex=0,d.nextIndex=0,d.img=e.find("img"),d.config.animation){case"slide":d.animationClassNext="slide-left",d.animationClassPrev="slide-right";break;default:d.animationClassNext="fade",d.animationClassPrev="fade"}d.next=function(){d.nextIndex=d.nextIndex==d.images.length-1?0:d.nextIndex+1,a(function(){d.currentIndex=d.currentIndex==d.images.length-1?0:d.currentIndex+1},500),b.addClass(d.img[0],d.animationClassNext).then(function(){b.removeClass(d.img[0],d.animationClassNext)})},d.prev=function(){d.nextIndex=0==d.nextIndex?d.images.length-1:d.nextIndex-1,a(function(){d.currentIndex=0==d.currentIndex?d.images.length-1:d.currentIndex-1},500),b.addClass(d.img[0],d.animationClassPrev).then(function(){b.removeClass(d.img[0],d.animationClassPrev)})},d.$watch("currentIndex",function(){d.currentImage=d.images[d.currentIndex]}),d.$watch("nextIndex",function(){d.nextImage=d.images[d.nextIndex]}),d.config.interval&&c(function(){d.next()},1e3*d.config.interval)},template:'<div class="gallery-container">   <div class="gallery-item">       <img ng-cloak class="current-img" ng-src="{{ currentImage.url }}" ng-swipe-left="prev()">       <img ng-cloak class="next-img" ng-src="{{ nextImage.url }}" ng-swipe-right="next()">   </div>   <div class="prev" ng-click="prev()"></div>   <div class="next" ng-click="next()"></div>   <ul class="thumb-list">       <li ng-repeat="image in images" ng-class="image.url == currentImage.url ? \'active\' : \'\'">&#149;</li>   </ul></div>'}}]);